{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAGMC,EAAeC,KAAKC,MAAMC,aAAaC,QAHzB,wBAIpB,IAAIC,EAAWL,UAAgB,GAE/B,MAAMM,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,wBAGlCH,EAAKC,KAAKK,iBAAiB,UAQ3B,SAAuBC,GAEnB,GADAA,EAAEC,iBACkC,KAAhCD,EAAEE,cAAcC,MAAMC,OAAkD,KAAlCJ,EAAEE,cAAcG,QAAQD,MACjE,OACDJ,EAAEE,cAAcI,QAChBhB,aAAaiB,WAzBG,uBA0BhBC,QAAQC,IAAIjB,GACZA,EAAW,E,IAdfC,EAAKC,KAAKK,iBAAiB,SAAS,EAAAd,EAAAyB,WAASV,IACzCR,EAASQ,EAAEW,OAAOC,MAAQZ,EAAEW,OAAOP,MACnCd,aAAauB,QAfG,sBAekBzB,KAAK0B,UAAUtB,GAAU,IAC3D,KAgBIL,IACAM,EAAKK,MAAMM,MAAQjB,EAAagB,OAAS,GACzCV,EAAKI,SAASO,MAAQjB,EAAakB,SAAW","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\n\nconst savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\nlet formData = savedMessage ?? {};\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    input: document.querySelector('input[type=\"email\"]')\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(e => {\n    formData[e.target.name] = e.target.value,\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n}), 500);\n\nsaveMessage();\n\nfunction onFormSubmit (e) {\n    e.preventDefault();\n    if (e.currentTarget.email.value === '' || e.currentTarget.message.value === '') \n    {return}\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n    console.log(formData);\n    formData = {}\n}\n\n\nfunction saveMessage() {\n    if (savedMessage) {\n        refs.input.value = savedMessage.email || '';\n        refs.textarea.value = savedMessage.message || '';\n    }\n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$savedMessage","JSON","parse","localStorage","getItem","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","addEventListener","e","preventDefault","currentTarget","email","value","message","reset","removeItem","console","log","throttle","target","name","setItem","stringify"],"version":3,"file":"03-feedback.2e6e8397.js.map"}