{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAGMC,EAAeC,KAAKC,MAAMC,aAAaC,QAHzB,wBAIpB,IAAIC,EAAWL,UAAgB,GAE/B,MAAMM,EAAO,CACTC,KAAMC,SAASC,cAAc,mBAGjCH,EAAKC,KAAKG,iBAAiB,UAiB3B,SAAuBC,GAEnB,GADAA,EAAEC,iBACkC,KAAhCD,EAAEE,cAAcC,MAAMC,OAAkD,KAAlCJ,EAAEE,cAAcG,QAAQD,MAClE,OACAJ,EAAEE,cAAcI,QAChBd,aAAae,WAhCG,uBAiChBC,QAAQC,IAAIf,GACZA,EAAW,E,IAvBfC,EAAKC,KAAKG,iBAAiB,SAAS,EAAAZ,EAAAuB,WAASV,IACzCN,EAASM,EAAEW,OAAOC,MAAQZ,EAAEW,OAAOP,MACnCZ,aAAaqB,QAbG,sBAakBvB,KAAKwB,UAAUpB,GAAU,IAC3D,KAIIL,IACAM,EAAKC,KAAKmB,SAASZ,MAAMC,MAAQf,EAAac,OAAS,GACvDR,EAAKC,KAAKmB,SAASV,QAAQD,MAAQf,EAAagB,SAAW","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\n\nconst savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\nlet formData = savedMessage ?? {};\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(e => {\n    formData[e.target.name] = e.target.value,\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n}), 500);\n\n\nfunction saveMessage() {\n    if (savedMessage) {\n        refs.form.elements.email.value = savedMessage.email || '';\n        refs.form.elements.message.value = savedMessage.message || '';\n    }\n}\n\n\nsaveMessage();\n\nfunction onFormSubmit (e) {\n    e.preventDefault();\n    if (e.currentTarget.email.value === '' || e.currentTarget.message.value === '') \n    return\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n    console.log(formData);\n    formData = {}\n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$savedMessage","JSON","parse","localStorage","getItem","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$refs","form","document","querySelector","addEventListener","e","preventDefault","currentTarget","email","value","message","reset","removeItem","console","log","throttle","target","name","setItem","stringify","elements"],"version":3,"file":"03-feedback.4e27e563.js.map"}